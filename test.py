import streamlit as st
import random

# 장르별 책 & 영화 데이터 (각각 6개씩)
recommendations = {
    "로맨스 ❤️": {
        "책": [
            {"제목": "노멀 피플", "줄거리": "두 청춘 남녀가 엇갈리며 성장하는 섬세한 로맨스."},
            {"제목": "파친코", "줄거리": "일본에 이주한 한국인 가족의 사랑과 생존 이야기."},
            {"제목": "비포 위 워 스트레인저스", "줄거리": "첫사랑과 재회의 기적 같은 순간을 그린 현대 로맨스."},
            {"제목": "브리짓 존스의 일기", "줄거리": "30대 싱글 여성의 연애와 일상을 유쾌하게 그린 이야기."},
            {"제목": "에브리데이", "줄거리": "매일 다른 사람의 몸으로 깨어나는 소년과의 로맨스."},
            {"제목": "시간 여행자의 아내", "줄거리": "시간을 넘나드는 남자와 그의 아내의 사랑 이야기."}
        ],
        "영화": [
            {"제목": "어바웃 타임", "줄거리": "시간 여행 능력을 가진 남자가 사랑을 찾아가는 이야기."},
            {"제목": "콜 미 바이 유어 네임", "줄거리": "이탈리아 여름, 첫사랑의 찬란함을 담은 로맨스."},
            {"제목": "비긴 어게인", "줄거리": "우연한 만남으로 인생의 두 번째 기회를 찾는 이야기."},
            {"제목": "노팅힐", "줄거리": "평범한 남자와 세계적인 배우의 사랑 이야기."},
            {"제목": "라라랜드", "줄거리": "꿈을 좇는 연인들의 사랑과 이별."},
            {"제목": "이터널 선샤인", "줄거리": "사랑의 기억을 지우려는 남녀의 기묘한 이야기."}
        ]
    },
    "판타지 🧙": {
        "책": [
            {"제목": "그리샤버스: 그림과 뼈", "줄거리": "어둠의 힘을 넘어 빛을 찾아가는 소녀의 모험."},
            {"제목": "왕좌의 게임", "줄거리": "철왕좌를 차지하기 위한 정치와 전쟁, 그리고 용의 이야기."},
            {"제목": "어둠의 마법사", "줄거리": "어린 마법사의 성장과 판타지 세계의 전쟁."},
            {"제목": "황금 나침반", "줄거리": "평행 세계의 모험과 운명을 찾는 소녀의 여정."},
            {"제목": "네버웨어", "줄거리": "런던 지하 세계의 판타지 모험."},
            {"제목": "엘릭서", "줄거리": "마법과 과학이 공존하는 세상의 비밀."}
        ],
        "영화": [
            {"제목": "말레피센트", "줄거리": "잠자는 숲속의 공주 이야기를 새롭게 해석한 판타지."},
            {"제목": "신비한 동물사전", "줄거리": "마법 동물들과의 모험을 그린 해리포터 세계관 영화."},
            {"제목": "위대한 쇼맨", "줄거리": "상상력으로 무대를 바꾼 남자의 뮤지컬 판타지."},
            {"제목": "판의 미로", "줄거리": "현실과 환상이 교차하는 소녀의 기묘한 여정."},
            {"제목": "호빗", "줄거리": "작은 호빗이 떠나는 대서사적 모험."},
            {"제목": "반지의 제왕", "줄거리": "절대반지를 둘러싼 선과 악의 전쟁."}
        ]
    },
    "스릴러 🔪": {
        "책": [
            {"제목": "더 체인", "줄거리": "아이를 구하기 위해 또 다른 아이를 납치해야 하는 부모의 딜레마."},
            {"제목": "뒤에 있는 여자", "줄거리": "부부의 은밀한 비밀을 파헤치는 심리 스릴러."},
            {"제목": "서브머전스", "줄거리": "사랑과 첩보가 얽힌 긴장감 넘치는 이야기."},
            {"제목": "아메리칸 사이코", "줄거리": "양면적인 삶을 사는 남자의 충격적 이야기."},
            {"제목": "걸 온 더 트레인", "줄거리": "열차 속 목격자가 풀어가는 미스터리."},
            {"제목": "사일런트 페이션트", "줄거리": "입을 닫은 여인의 비밀을 파헤치는 이야기."}
        ],
        "영화": [
            {"제목": "나를 찾아줘", "줄거리": "실종된 아내, 그리고 드러나는 충격적 진실."},
            {"제목": "룸", "줄거리": "갇혀 있던 공간에서의 모자 탈출과 이후의 삶."},
            {"제목": "기생충", "줄거리": "두 가족의 계급을 넘나드는 블랙코미디 스릴러."},
            {"제목": "세븐", "줄거리": "7대 죄악을 모티브로 한 끔찍한 연쇄 살인 사건."},
            {"제목": "올드보이", "줄거리": "15년간 감금된 남자의 복수극."},
            {"제목": "메멘토", "줄거리": "단기 기억상실증 남자의 추적 스릴러."}
        ]
    },
    "SF 🚀": {
        "책": [
            {"제목": "프로젝트 헤일 메리", "줄거리": "우주에서 인류의 운명을 짊어진 한 남자의 생존기."},
            {"제목": "세븐 이브스", "줄거리": "지구 종말 이후 살아남기 위한 인류의 이야기."},
            {"제목": "아르테미스", "줄거리": "달의 도시에서 벌어지는 범죄와 음모."},
            {"제목": "스노 크래시", "줄거리": "사이버 세계와 현실이 교차하는 초기 메타버스 소설."},
            {"제목": "앤드 오브 이터니티", "줄거리": "시간여행자의 윤리와 딜레마."},
            {"제목": "마션", "줄거리": "화성에 고립된 한 남자의 생존기."}
        ],
        "영화": [
            {"제목": "듄", "줄거리": "사막 행성을 둘러싼 권력과 생존의 이야기."},
            {"제목": "테넷", "줄거리": "시간을 거꾸로 흐르게 하는 비밀 작전."},
            {"제목": "에브리씽 에브리웨어 올 앳 원스", "줄거리": "멀티버스 속의 독창적 모험."},
            {"제목": "매트릭스", "줄거리": "가상현실 세계의 혁명적 이야기."},
            {"제목": "인터스텔라", "줄거리": "인류를 구하기 위한 우주 탐험."},
            {"제목": "인셉션", "줄거리": "꿈속에서 벌어지는 치밀한 작전."}
        ]
    }
}

# Streamlit UI
st.title("📚🎬 장르 기반 책 & 영화 추천기")

# 장르 선택
genre = st.selectbox("관심 있는 장르를 선택하세요:", list(recommendations.keys()))

# 콘텐츠 타입 선택
content_type = st.radio("추천 받고 싶은 콘텐츠를 선택하세요:", ["책", "영화"], horizontal=True)

if genre and content_type:
    st.subheader(f"👉 {genre} {content_type} 추천")
    choices = random.sample(recommendations[genre][content_type], 3)  # 6개 중 3개 랜덤 추천
    
    for idx, choice in enumerate(choices, 1):
        st.markdown(
            f"""
            <div style="
                background-color:#f9f9f9;
                border-radius:15px;
                padding:20px;
                margin-bottom:15px;
                box-shadow: 2px 2px 8px rgba(0,0,0,0.1);
            ">
                <h3>{idx}. {choice['제목']} ✨</h3>
                <p><b>줄거리:</b> {choice['줄거리']}</p>
            </div>
            """,
            unsafe_allow_html=True
        )
