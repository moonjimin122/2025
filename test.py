import streamlit as st
import random

# 샘플 데이터 (제목 + 줄거리만, 이미지 제거)
recommendations = {
    "로맨스 ❤️": {
        "책": [
            {"제목": "노멀 피플", "줄거리": "두 청춘 남녀가 엇갈리며 성장하는 섬세한 로맨스."},
            {"제목": "파친코", "줄거리": "일본에 이주한 한국인 가족의 사랑과 생존 이야기."},
            {"제목": "비포 위 워 스트레인저스", "줄거리": "첫사랑과 재회의 기적 같은 순간을 그린 현대 로맨스."},
            {"제목": "브리짓 존스의 일기 (1996)", "줄거리": "30대 싱글 여성의 연애와 일상을 유쾌하게 그린 베스트셀러."},
            {"제목": "연애의 기억", "줄거리": "과거와 현재를 오가는 로맨틱한 이야기."}
        ],
        "영화": [
            {"제목": "어바웃 타임", "줄거리": "시간 여행 능력을 가진 남자가 사랑을 찾아가는 이야기."},
            {"제목": "콜 미 바이 유어 네임", "줄거리": "이탈리아 여름, 첫사랑의 찬란함을 담은 로맨스."},
            {"제목": "비긴 어게인", "줄거리": "우연한 만남으로 인생의 두 번째 기회를 찾는 이야기."},
            {"제목": "노팅힐 (1999)", "줄거리": "평범한 남자와 세계적인 배우의 사랑 이야기."},
            {"제목": "라라랜드", "줄거리": "꿈과 사랑 사이에서 갈등하는 두 청춘의 이야기."}
        ]
    },
    "판타지 🧙": {
        "책": [
            {"제목": "그리샤버스: 그림과 뼈", "줄거리": "어둠의 힘을 넘어 빛을 찾아가는 소녀의 모험."},
            {"제목": "왕좌의 게임 (1996)", "줄거리": "철왕좌를 차지하기 위한 정치와 전쟁, 그리고 용의 이야기."},
            {"제목": "어둠의 마법사", "줄거리": "어린 마법사의 성장과 판타지 세계의 전쟁."},
            {"제목": "황금 나침반 (1995)", "줄거리": "평행 세계의 모험과 마법, 운명을 찾는 소녀의 여정."},
            {"제목": "네버웨어", "줄거리": "런던 지하의 기묘한 세계에서 벌어지는 모험."}
        ],
        "영화": [
            {"제목": "말레피센트", "줄거리": "잠자는 숲속의 공주 이야기를 새롭게 해석한 판타지."},
            {"제목": "신비한 동물사전", "줄거리": "마법 동물들과의 모험을 그린 해리포터 세계관 영화."},
            {"제목": "위대한 쇼맨", "줄거리": "상상력으로 무대를 바꾼 남자의 뮤지컬 판타지."},
            {"제목": "판의 미로: 오필리아와 세 개의 열쇠 (2006)", "줄거리": "현실과 환상이 교차하는 소녀의 기묘한 여정."},
            {"제목": "반지의 제왕", "줄거리": "절대반지를 둘러싼 선과 악의 대서사시."}
        ]
    },
    "스릴러 🔪": {
        "책": [
            {"제목": "더 체인", "줄거리": "아이를 구하기 위해 또 다른 아이를 납치해야 하는 부모의 딜레마."},
            {"제목": "뒤에 있는 여자", "줄거리": "부부의 은밀한 비밀을 파헤치는 심리 스릴러."},
            {"제목": "서브머전스", "줄거리": "사랑과 첩보가 얽힌 긴장감 넘치는 스릴러."},
            {"제목": "아메리칸 사이코 (1991)", "줄거리": "양면적인 삶을 사는 뉴욕 월스트리트 남자의 충격적 이야기."},
            {"제목": "여자의 흔적", "줄거리": "사라진 여자를 둘러싼 진실 찾기."}
        ],
        "영화": [
            {"제목": "나를 찾아줘", "줄거리": "실종된 아내, 그리고 드러나는 충격적 진실."},
            {"제목": "룸", "줄거리": "갇혀 있던 공간에서의 모자 탈출과 이후의 삶."},
            {"제목": "기생충", "줄거리": "두 가족의 계급을 넘나드는 블랙코미디 스릴러."},
            {"제목": "세븐 (1995)", "줄거리": "7대 죄악을 모티브로 한 끔찍한 연쇄 살인 사건."},
            {"제목": "올드보이", "줄거리": "15년간 감금된 한 남자의 충격적 복수극."}
        ]
    },
    "SF 🚀": {
        "책": [
            {"제목": "프로젝트 헤일 메리", "줄거리": "우주에서 인류의 운명을 짊어진 한 남자의 생존기."},
            {"제목": "세븐 이브스", "줄거리": "지구 종말 이후 살아남기 위한 인류의 방대한 이야기."},
            {"제목": "아르테미스", "줄거리": "달의 도시에서 벌어지는 범죄와 음모."},
            {"제목": "스노 크래시 (1992)", "줄거리": "사이버 세계와 현실이 교차하는 초기 메타버스 소설."},
            {"제목": "클라우드 아틀라스", "줄거리": "시간과 공간을 넘나드는 인류의 거대한 연결."}
        ],
        "영화": [
            {"제목": "듄 (2021)", "줄거리": "사막 행성을 둘러싼 권력과 생존의 이야기."},
            {"제목": "테넷 (2020)", "줄거리": "시간을 거꾸로 흐르게 하는 비밀 작전."},
            {"제목": "에브리씽 에브리웨어 올 앳 원스 (2022)", "줄거리": "멀티버스 속의 평범한 주인공이 펼치는 독창적 SF 모험."},
            {"제목": "매트릭스 (1999)", "줄거리": "가상현실 세계의 혁명적 이야기."},
            {"제목": "인터스텔라", "줄거리": "사라져가는 지구를 떠난 인류의 우주 탐사."}
        ]
    }
}

# Streamlit UI
st.title("📚🎬 장르 기반 책 & 영화 추천기")

# 장르 선택
genre = st.selectbox("관심 있는 장르를 선택하세요:", list(recommendations.keys()))

# 콘텐츠 타입 선택 (크게 강조)
content_type = st.radio(
    "추천 받고 싶은 콘텐츠를 선택하세요:",
    ["책", "영화"],
    horizontal=True
)

if genre and content_type:
    st.subheader(f"👉 {genre} 장르의 {content_type} 추천 (랜덤 3개)")
    choices = random.sample(recommendations[genre][content_type], 3)
    for idx, choice in enumerate(choices, 1):
        st.markdown(f"### {idx}. {choice['제목']} ✨")
        st.write(f"**줄거리**: {choice['줄거리']}")
        st.markdown("---")
